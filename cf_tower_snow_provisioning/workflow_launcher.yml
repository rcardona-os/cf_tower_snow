---
- hosts: localhost #ansible-tower
  connection: local
  tasks:
    - name: Job Template to launch a Workflow Job Template (as a workaround, waiting for CloudForms 4.5)
      uri:
        url: https://tower/api/v2/workflow_job_templates/9/launch/
        method: POST
        body:
          user: admin
          password: r3dh4t1!
          extra_vars: "launched_from: CloudForms"
        body_format: json
        validate_certs: False
        HEADER_Content-Type: "application/json"
        status_code: 200, 201
  
  #vars:
  #  ansible_tower_ip: "{{ ansible_tower_ip }}"

  #roles:
  #- workflow_launcher